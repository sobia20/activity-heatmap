{"remainingRequest":"/home/sobiaa/chEMBL-Heatmap/frontend/activity-heatmap/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sobiaa/chEMBL-Heatmap/frontend/activity-heatmap/src/components/HeatMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sobiaa/chEMBL-Heatmap/frontend/activity-heatmap/src/components/HeatMap.vue","mtime":1581232418253},{"path":"/home/sobiaa/chEMBL-Heatmap/frontend/activity-heatmap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sobiaa/chEMBL-Heatmap/frontend/activity-heatmap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/sobiaa/chEMBL-Heatmap/frontend/activity-heatmap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sobiaa/chEMBL-Heatmap/frontend/activity-heatmap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KIApleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hlYXRNYXAnLAogIHByb3BzOiB7CiAgICBtc2c6IFN0cmluZwogIH0sCiAgbW91bnRlZCgpewoKICAgICAgdmFyIG1hcmdpbiA9IHt0b3A6IDMwLCByaWdodDogMzAsIGJvdHRvbTogMzAsIGxlZnQ6IDMwfSwKICAgIHdpZHRoID0gNDUwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsCiAgICBoZWlnaHQgPSA0NTAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTsKCgogIHZhciBzdmcgPSBkMy5zZWxlY3QoIiNteV9kYXRhdml6IikKICAuYXBwZW5kKCJzdmciKQogICAgLmF0dHIoIndpZHRoIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCkKICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSkKICAuYXBwZW5kKCJnIikKICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLAogICAgICAgICAgInRyYW5zbGF0ZSgiICsgbWFyZ2luLmxlZnQgKyAiLCIgKyBtYXJnaW4udG9wICsgIikiKTsKCgogIHZhciB0YXJnZXRfdmFsdWVzID0gWyJ0YXJnZXQiLCAiQiIsICJDIiwgIkQiLCAiRSIsICJGIiwgIkciLCAiSCIsICJJIiwgIkoiXQogIHZhciBtb2xlY3VsZV92YWx1ZXMgPSBbInYxIiwgInYyIiwgInYzIiwgInY0IiwgInY1IiwgInY2IiwgInY3IiwgInY4IiwgInY5IiwgIm1vbGVjdWxlIl0KCiAgdmFyIHggPSBkMy5zY2FsZUJhbmQoKQogICAgLnJhbmdlKFsgMCwgd2lkdGggXSkKICAgIC5kb21haW4odGFyZ2V0X3ZhbHVlcykKICAgIC5wYWRkaW5nKDAuMDEpOwogIHN2Zy5hcHBlbmQoImciKQogICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiICsgaGVpZ2h0ICsgIikiKQogICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkKCgogIHZhciB5ID0gZDMuc2NhbGVCYW5kKCkKICAgIC5yYW5nZShbIGhlaWdodCwgMCBdKQogICAgLmRvbWFpbihtb2xlY3VsZV92YWx1ZXMpCiAgICAucGFkZGluZygwLjAxKTsKICBzdmcuYXBwZW5kKCJnIikKICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKTsKCgogIHZhciBteUNvbG9yID0gZDMuc2NhbGVMaW5lYXIoKQogICAgLnJhbmdlKFsid2hpdGUiLCAiIzY5YjNhMiJdKQogICAgLmRvbWFpbihbMSwxMDBdKQoKCiAgZDMuanNvbigiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FjdGl2aXRpZXMiLCBmdW5jdGlvbihkYXRhKSB7CgogIC8vIGNyZWF0ZSBhIHRvb2x0aXAKICB2YXIgdG9vbHRpcCA9IGQzLnNlbGVjdCgiI215X2RhdGF2aXoiKQogICAgLmFwcGVuZCgiZGl2IikKICAgIC5zdHlsZSgib3BhY2l0eSIsIDApCiAgICAuYXR0cigiY2xhc3MiLCAidG9vbHRpcCIpCiAgICAuc3R5bGUoImJhY2tncm91bmQtY29sb3IiLCAid2hpdGUiKQogICAgLnN0eWxlKCJib3JkZXIiLCAic29saWQiKQogICAgLnN0eWxlKCJib3JkZXItd2lkdGgiLCAiMnB4IikKICAgIC5zdHlsZSgiYm9yZGVyLXJhZGl1cyIsICI1cHgiKQogICAgLnN0eWxlKCJwYWRkaW5nIiwgIjVweCIpCgogIC8vIFRocmVlIGZ1bmN0aW9uIHRoYXQgY2hhbmdlIHRoZSB0b29sdGlwIHdoZW4gdXNlciBob3ZlciAvIG1vdmUgLyBsZWF2ZSBhIGNlbGwKICB2YXIgbW91c2VvdmVyID0gZnVuY3Rpb24oZCkgewogICAgdG9vbHRpcC5zdHlsZSgib3BhY2l0eSIsIDEpCiAgfQogIHZhciBtb3VzZW1vdmUgPSBmdW5jdGlvbihkKSB7CiAgICB0b29sdGlwCiAgICAgIC5odG1sKCJUaGUgZXhhY3QgdmFsdWUgb2Y8YnI+dGhpcyBjZWxsIGlzOiAiICsgZC52YWx1ZSkKICAgICAgLnN0eWxlKCJsZWZ0IiwgKGQzLm1vdXNlKHRoaXMpWzBdKzcwKSArICJweCIpCiAgICAgIC5zdHlsZSgidG9wIiwgKGQzLm1vdXNlKHRoaXMpWzFdKSArICJweCIpCiAgfQogIHZhciBtb3VzZWxlYXZlID0gZnVuY3Rpb24oZCkgewogICAgdG9vbHRpcC5zdHlsZSgib3BhY2l0eSIsIDApCiAgfQoKICAvLyBhZGQgdGhlIHNxdWFyZXMKICBzdmcuc2VsZWN0QWxsKCkKICAgIC5kYXRhKGRhdGEsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5ncm91cCsnOicrZC52YXJpYWJsZTt9KQogICAgLmVudGVyKCkKICAgIC5hcHBlbmQoInJlY3QiKQogICAgICAuYXR0cigieCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC5ncm91cCkgfSkKICAgICAgLmF0dHIoInkiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGQudmFyaWFibGUpIH0pCiAgICAgIC5hdHRyKCJ3aWR0aCIsIHguYmFuZHdpZHRoKCkgKQogICAgICAuYXR0cigiaGVpZ2h0IiwgeS5iYW5kd2lkdGgoKSApCiAgICAgIC5zdHlsZSgiZmlsbCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIG15Q29sb3IoZC52YWx1ZSl9ICkKICAgIC5vbigibW91c2VvdmVyIiwgbW91c2VvdmVyKQogICAgLm9uKCJtb3VzZW1vdmUiLCBtb3VzZW1vdmUpCiAgICAub24oIm1vdXNlbGVhdmUiLCBtb3VzZWxlYXZlKQogIH0pCiAgICB9CiAgfQoKCg=="},{"version":3,"sources":["HeatMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeatMap.vue","sourceRoot":"src/components","sourcesContent":["<script src=\"https://d3js.org/d3.v4.js\" charset=\"utf-8\"></script>\n<template>\n  <div>\n    <h1>{{ msg }}</h1>\n    <p>\n      For a guide and recipes on how to configure / customize this project,<br>\n      check out the\n    </p>\n    \n    <div id=\"my_dataviz\"></div>\n  </div>\n  \n</template>\n\n\n\n<script> \nexport default {\n  name: 'HeatMap',\n  props: {\n    msg: String\n  },\n  mounted(){\n\n      var margin = {top: 30, right: 30, bottom: 30, left: 30},\n    width = 450 - margin.left - margin.right,\n    height = 450 - margin.top - margin.bottom;\n\n\n  var svg = d3.select(\"#my_dataviz\")\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n  var target_values = [\"target\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"]\n  var molecule_values = [\"v1\", \"v2\", \"v3\", \"v4\", \"v5\", \"v6\", \"v7\", \"v8\", \"v9\", \"molecule\"]\n\n  var x = d3.scaleBand()\n    .range([ 0, width ])\n    .domain(target_values)\n    .padding(0.01);\n  svg.append(\"g\")\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(d3.axisBottom(x))\n\n\n  var y = d3.scaleBand()\n    .range([ height, 0 ])\n    .domain(molecule_values)\n    .padding(0.01);\n  svg.append(\"g\")\n    .call(d3.axisLeft(y));\n\n\n  var myColor = d3.scaleLinear()\n    .range([\"white\", \"#69b3a2\"])\n    .domain([1,100])\n\n\n  d3.json(\"http://localhost:5000/activities\", function(data) {\n\n  // create a tooltip\n  var tooltip = d3.select(\"#my_dataviz\")\n    .append(\"div\")\n    .style(\"opacity\", 0)\n    .attr(\"class\", \"tooltip\")\n    .style(\"background-color\", \"white\")\n    .style(\"border\", \"solid\")\n    .style(\"border-width\", \"2px\")\n    .style(\"border-radius\", \"5px\")\n    .style(\"padding\", \"5px\")\n\n  // Three function that change the tooltip when user hover / move / leave a cell\n  var mouseover = function(d) {\n    tooltip.style(\"opacity\", 1)\n  }\n  var mousemove = function(d) {\n    tooltip\n      .html(\"The exact value of<br>this cell is: \" + d.value)\n      .style(\"left\", (d3.mouse(this)[0]+70) + \"px\")\n      .style(\"top\", (d3.mouse(this)[1]) + \"px\")\n  }\n  var mouseleave = function(d) {\n    tooltip.style(\"opacity\", 0)\n  }\n\n  // add the squares\n  svg.selectAll()\n    .data(data, function(d) {return d.group+':'+d.variable;})\n    .enter()\n    .append(\"rect\")\n      .attr(\"x\", function(d) { return x(d.group) })\n      .attr(\"y\", function(d) { return y(d.variable) })\n      .attr(\"width\", x.bandwidth() )\n      .attr(\"height\", y.bandwidth() )\n      .style(\"fill\", function(d) { return myColor(d.value)} )\n    .on(\"mouseover\", mouseover)\n    .on(\"mousemove\", mousemove)\n    .on(\"mouseleave\", mouseleave)\n  })\n    }\n  }\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}